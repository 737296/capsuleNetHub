webpackJsonp([16],{s5vo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("//Fk"),p=a.n(o),s=a("Dd8w"),n=a.n(s),l=a("Gu7T"),r=a.n(l),i=a("psbz"),u=this,c={data:function(){return{popup:{show:!1,data:null,loading:!1},editData:[]}},methods:{showPopup:function(){this.popup={show:!1,data:null,loading:!1};for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];this.popup.srcData=e,this._showPopup.apply(this,r()(e))},_showPopup:function(t){var e=t.row,a=(t.column,t.index,this.popup.srcData[1]),o=a.srcRoleList,p=a.srcStateList,s=a.isEdit,n=void 0===s||s,l=!e;!e&&(e=this.popup.data||{});var r=[[{span:11,prop:"account",label:"法人编号",component:"Input",placeholder:"请输入法人编号",value:u.legalCode,rule:[{required:!0,message:"请输入用户名",trigger:"blur"}],options:[]},{span:1},{span:11,prop:"phone",label:"手机号：",component:"Input",placeholder:"请输入手机号",value:"",options:[]}],[{span:11,prop:"email",label:"邮箱：",component:"Input",placeholder:"请输入邮箱",value:"",options:[]},{span:1},{span:11,prop:"list",label:"分配角色：",component:"Select",multiple:!0,value:[],rule:[{required:!0,message:"请选择分配角色",trigger:"blur",validator:function(t,e,a){var o=[];(!e||e.length<=0)&&o.push(t.message),a(o)}}],options:[]}],[{span:11,prop:"adId",label:"AD_ID：",component:"Input",placeholder:"请输入AD_ID",value:"",rule:[{required:!0,message:"请输入AD_ID",trigger:"blur"}],options:[]},{span:1},{span:11,prop:"enableFlag",label:"状态：",component:"Select",value:"",rule:[{required:!0,message:"请选择状态",trigger:"blur"}],options:[]}]];this.$ArrayObjectEach(r,function(t){var a=void 0;if(t&&t.component)switch((a=e[t.prop])&&(t.value=a),t.prop){case"enableFlag":t.value=!1!==a?"true":"false",t.options=p;break;case"list":t.options=o}}),this.editData=r,this.popup.show=!0,this.popup.extData=n,l||(this.popup.data=e)},saveExtData:function(){var t=this;this.formEditValidate(function(e,a){if(e){var o=n()({},a,{enableFlag:"true"===a.enableFlag});t.popup.extData&&(o.id=t.popup.data.id),i.a.updateData(o,{isEdit:t.popup.extData}).then(function(e){var a=e.data;if(200!==a.code)return p.a.reject(new Error(a.msg));var o=t.popup.srcData[1].callback;o&&o(),t.$Message.success("保存成功"),t.popup.show=!1}).catch(function(e){t.$Message.error("操作失败！"+e.message),console.log(e)})}})}}},d={render:function(){var t=this,e=this,a=e.$createElement,o=e._self._c||a;return o("Pupup",{attrs:{loading:e.popup.loading,"class-name":"popup-model",width:"none"},model:{value:e.popup.show,callback:function(t){e.$set(e.popup,"show",t)},expression:"popup.show"}},[o("template",{slot:"header"},[e._v(" 电子账簿添加 ")]),e._v(" "),o("template",{slot:"body"},[o("div",{staticClass:"scroll-warp"},[o("popup-condition",{on:{"on-ref":function(e){var a=e.validate;return t.formEditValidate=a}},model:{value:e.editData,callback:function(t){e.editData=t},expression:"editData"}})],1)]),e._v(" "),o("div",{staticClass:"ext-footer",attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"flex center"},[e.popup.extData?[o("Button",{attrs:{size:"large",type:"primary"},on:{click:e.saveExtData}},[e._v("\n          保存\n        ")])]:[o("Button",{attrs:{size:"large"},on:{click:function(t){e._showPopup({})}}},[e._v("清空")]),e._v(" "),o("Button",{attrs:{size:"large",type:"primary"},on:{click:e.saveExtData}},[e._v("\n          添加\n        ")])]],2)])],2)},staticRenderFns:[]};var h=a("VU/8")(c,d,!1,function(t){a("tUwd")},null,null);e.default=h.exports},tUwd:function(t,e){}});