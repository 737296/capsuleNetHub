webpackJsonp([10],{kHpO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{url:"http://120.46.187.24:8080/api/upload",file:null,fileName:null,loadingStatus:!1,predict:null,fileUrl:null,predictStratTime:null,predictEndTime:null,predictTime:null,current:0}},created:function(){},methods:{handleUpload:function(t){return this.current=1,this.predictTime=null,this.predict=null,this.file=t,this.fileUrl=window.URL.createObjectURL(t),this.fileName=t.name,console.log("钩子函数"),!1},upload:function(){var t=this;this.current=3,this.predictStratTime=new Date,console.log("预测开始时间："+this.predictStratTime),this.loadingStatus=!0;var e=new FormData;e.append("photos",this.file),console.log(e);this.$http.post(this.url,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){t.file=null,t.loadingStatus=!1,console.log(e),200===e.data.code||"200"===e.data.code?(console.log(e.data.data),t.predict=e.data.data,t.$Notice.success({title:e.data.data,duration:3}),t.predictEndTime=new Date,console.log("预测结束时间："+t.predictEndTime),t.predictTime=t.predictEndTime-t.predictStratTime+"ms",t.current=4):(t.$Notice.error({title:e.data.msg?e.data.msg:"上传失败，请联系管理员",duration:3}),console.log("test"+e.data.msg))})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{padding:"0% 20%"}},[i("Card",{staticStyle:{width:"100%"},attrs:{bordered:!1}},[i("Steps",{attrs:{current:t.current}},[i("Step",{attrs:{title:"选择图片"}}),t._v(" "),i("Step",{attrs:{title:"等待检测"}}),t._v(" "),i("Step",{attrs:{title:"正在检测"}}),t._v(" "),i("Step",{attrs:{title:"完成检测"}})],1)],1)],1),t._v(" "),i("br"),t._v(" "),i("div",{staticStyle:{padding:"0% 20%"}},[i("Card",{staticStyle:{width:"100%"}},[void 0,t._v(" "),i("Form",{attrs:{"label-position":"left"}},[i("FormItem",{attrs:{label:"上传图片："}},[i("div",{attrs:{id:"group"}},[null==t.file?i("div",[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",form:["jpg","jpeg","png","gif"],"before-upload":t.handleUpload}},[i("Button",[t._v("选择图片（图片格式：png）")])],1)],1):t._e(),t._v(" "),null!==t.file?i("div",[i("Button",{attrs:{type:"primary",loading:t.loadingStatus},on:{click:function(e){t.upload()}}},[t._v(t._s(t.loadingStatus?"预测中":"开始预测"))])],1):t._e()])]),t._v(" "),i("FormItem",{attrs:{label:"图片名称："}},[t._v("\n          "+t._s(t.fileName)+"\n        ")]),t._v(" "),i("FormItem",{attrs:{label:"检测结果："}},[i("h2",[t._v(t._s(t.predict))])]),t._v(" "),i("FormItem",{attrs:{label:"检测耗时："}},[t._v("\n          "+t._s(t.predictTime)+"\n        ")]),t._v(" "),i("FormItem",{attrs:{label:"图片显示："}},[i("img",{attrs:{src:t.fileUrl,width:"300px",height:"300px"}})])],1)],2)],1)])},staticRenderFns:[]};var r=i("VU/8")(a,l,!1,function(t){i("sHff")},"data-v-41460cb8",null);e.default=r.exports},sHff:function(t,e){}});